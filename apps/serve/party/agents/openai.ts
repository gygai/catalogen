import {createOpenAI} from "@ai-sdk/openai";

const customFetch:typeof fetch=(r) => {
    const request = r instanceof Request ? r : new Request(r);
    console.log(request.url)
    return  fetch(`${request.url}/?api-version=2023-05-15`,
        {
            ...request,
            method: 'POST',
            headers: {
                ...request.headers,
                'ai-resource-group': 'default',
                'Authorization': 'Bearer eyJhbGciOiJSUzI1NiIsImprdSI6Imh0dHBzOi8vc2FwaXQtY29yZS1wbGF5Z3JvdW5kLXZvbGUuYXV0aGVudGljYXRpb24uZXUxMC5oYW5hLm9uZGVtYW5kLmNvbS90b2tlbl9rZXlzIiwia2lkIjoiZGVmYXVsdC1qd3Qta2V5LTEyNTI4Njk5MzEiLCJ0eXAiOiJKV1QiLCJqaWQiOiAidXUvRlZHOWRQam0ydEdtWFAzYTUwSDZHWjJld2NWaVZWR25LbUZEV3Bvcz0ifQ.eyJqdGkiOiIwNTlkYzQ5YzE3OTc0ZDkwODZhY2FjN2U1N2EwODIzNiIsImV4dF9hdHRyIjp7ImVuaGFuY2VyIjoiWFNVQUEiLCJzdWJhY2NvdW50aWQiOiIyYWFlZmQ4Mi1iMWZlLTRiNTYtYWEyMi04NTFjMGUyNzE2MDQiLCJ6ZG4iOiJzYXBpdC1jb3JlLXBsYXlncm91bmQtdm9sZSIsInNlcnZpY2VpbnN0YW5jZWlkIjoiYTk4NjhkODQtNGNiYi00ZTI2LThiZTYtMTQ0MmQ1MTA1MWIzIn0sInN1YiI6InNiLWE5ODY4ZDg0LTRjYmItNGUyNi04YmU2LTE0NDJkNTEwNTFiMyFiMzEzMDkxfGFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwIiwiYXV0aG9yaXRpZXMiOlsiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAub2JqZWN0c3RvcmVzZWNyZXQuY3JlZGVudGlhbHMuZGVsZXRlIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLmNvbmZpZ3VyYXRpb25zLnJlYWQiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5vYmplY3RzdG9yZXNlY3JldC5jcmVkZW50aWFscy51cGRhdGUiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5zY2VuYXJpb3MuZGVwbG95bWVudHMucHJlZGljdCIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLnNjZW5hcmlvcy5leGVjdXRhYmxlcy5yZWFkIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLmV4ZWN1dGlvbnMuZGVsZXRlIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLmV4ZWN1dGlvbnMuY2FuY2VsIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLmRlcGxveW1lbnRzLmNyZWF0ZSIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLnNjZW5hcmlvcy5yZWFkIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAub2JqZWN0c3RvcmVzZWNyZXQuY3JlZGVudGlhbHMucmVhZCIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLmRlcGxveW1lbnRzLmxvZ3MucmVhZCIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLnNjZW5hcmlvcy5kZXBsb3ltZW50cy5yZWFkIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAucHJvdmlkZXIuMmFhZWZkODItYjFmZS00YjU2LWFhMjItODUxYzBlMjcxNjA0IiwidWFhLnJlc291cmNlIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuZGF0YXNldHMudXBsb2FkIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAubWV0YS5yZWFkIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLmFydGlmYWN0cy5jcmVhdGUiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5zY2VuYXJpb3MuZGVwbG95bWVudHMuZGVsZXRlIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLm1ldHJpY3MuZGVsZXRlIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuZXhlY3V0aW9ucy5sb2dzLnJlYWQiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5kYXRhc2V0cy5kZWxldGUiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5vYmplY3RzdG9yZXNlY3JldC5jcmVkZW50aWFscy5jcmVhdGUiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5zY2VuYXJpb3MuY29uZmlndXJhdGlvbnMuY3JlYXRlIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLm1ldHJpY3MucmVhZCIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLnNjZW5hcmlvcy5kZXBsb3ltZW50cy51cGRhdGUiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5zY2VuYXJpb3MubWV0cmljcy5jcmVhdGUiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5zY2VuYXJpb3MuZXhlY3V0aW9ucy5jcmVhdGUiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5kYXRhc2V0cy5kb3dubG9hZCIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLnNjZW5hcmlvcy5leGVjdXRpb25zLnJlYWQiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5zY2VuYXJpb3MuYXJ0aWZhY3RzLnJlYWQiXSwic2NvcGUiOlsiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAub2JqZWN0c3RvcmVzZWNyZXQuY3JlZGVudGlhbHMuZGVsZXRlIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLmNvbmZpZ3VyYXRpb25zLnJlYWQiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5vYmplY3RzdG9yZXNlY3JldC5jcmVkZW50aWFscy51cGRhdGUiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5zY2VuYXJpb3MuZGVwbG95bWVudHMucHJlZGljdCIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLnNjZW5hcmlvcy5leGVjdXRhYmxlcy5yZWFkIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLmV4ZWN1dGlvbnMuZGVsZXRlIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLmV4ZWN1dGlvbnMuY2FuY2VsIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLmRlcGxveW1lbnRzLmNyZWF0ZSIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLnNjZW5hcmlvcy5yZWFkIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAub2JqZWN0c3RvcmVzZWNyZXQuY3JlZGVudGlhbHMucmVhZCIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLmRlcGxveW1lbnRzLmxvZ3MucmVhZCIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLnNjZW5hcmlvcy5kZXBsb3ltZW50cy5yZWFkIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAucHJvdmlkZXIuMmFhZWZkODItYjFmZS00YjU2LWFhMjItODUxYzBlMjcxNjA0IiwidWFhLnJlc291cmNlIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuZGF0YXNldHMudXBsb2FkIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAubWV0YS5yZWFkIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLmFydGlmYWN0cy5jcmVhdGUiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5zY2VuYXJpb3MuZGVwbG95bWVudHMuZGVsZXRlIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLm1ldHJpY3MuZGVsZXRlIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuZXhlY3V0aW9ucy5sb2dzLnJlYWQiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5kYXRhc2V0cy5kZWxldGUiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5vYmplY3RzdG9yZXNlY3JldC5jcmVkZW50aWFscy5jcmVhdGUiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5zY2VuYXJpb3MuY29uZmlndXJhdGlvbnMuY3JlYXRlIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLm1ldHJpY3MucmVhZCIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLnNjZW5hcmlvcy5kZXBsb3ltZW50cy51cGRhdGUiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5zY2VuYXJpb3MubWV0cmljcy5jcmVhdGUiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5zY2VuYXJpb3MuZXhlY3V0aW9ucy5jcmVhdGUiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5kYXRhc2V0cy5kb3dubG9hZCIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLnNjZW5hcmlvcy5leGVjdXRpb25zLnJlYWQiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5zY2VuYXJpb3MuYXJ0aWZhY3RzLnJlYWQiXSwiY2xpZW50X2lkIjoic2ItYTk4NjhkODQtNGNiYi00ZTI2LThiZTYtMTQ0MmQ1MTA1MWIzIWIzMTMwOTF8YWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAiLCJjaWQiOiJzYi1hOTg2OGQ4NC00Y2JiLTRlMjYtOGJlNi0xNDQyZDUxMDUxYjMhYjMxMzA5MXxhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MCIsImF6cCI6InNiLWE5ODY4ZDg0LTRjYmItNGUyNi04YmU2LTE0NDJkNTEwNTFiMyFiMzEzMDkxfGFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwIiwiZ3JhbnRfdHlwZSI6ImNsaWVudF9jcmVkZW50aWFscyIsInJldl9zaWciOiI1ZDE2MTNiMSIsImlhdCI6MTcyMDQzOTk4OCwiZXhwIjoxNzIwNDgzMTg4LCJpc3MiOiJodHRwczovL3NhcGl0LWNvcmUtcGxheWdyb3VuZC12b2xlLmF1dGhlbnRpY2F0aW9uLmV1MTAuaGFuYS5vbmRlbWFuZC5jb20vb2F1dGgvdG9rZW4iLCJ6aWQiOiIyYWFlZmQ4Mi1iMWZlLTRiNTYtYWEyMi04NTFjMGUyNzE2MDQiLCJhdWQiOlsiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLmNvbmZpZ3VyYXRpb25zIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLmFydGlmYWN0cyIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLnNjZW5hcmlvcy5leGVjdXRpb25zIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAub2JqZWN0c3RvcmVzZWNyZXQuY3JlZGVudGlhbHMiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5wcm92aWRlciIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLnNjZW5hcmlvcyIsImFpc3ZjLTY2MjMxOGY5LWllcy1haWNvcmUtc2VydmljZSFiNTQwLmRhdGFzZXRzIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuZXhlY3V0aW9ucy5sb2dzIiwic2ItYTk4NjhkODQtNGNiYi00ZTI2LThiZTYtMTQ0MmQ1MTA1MWIzIWIzMTMwOTF8YWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAiLCJ1YWEiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5zY2VuYXJpb3MuZXhlY3V0YWJsZXMiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5tZXRhIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLmRlcGxveW1lbnRzIiwiYWlzdmMtNjYyMzE4ZjktaWVzLWFpY29yZS1zZXJ2aWNlIWI1NDAuc2NlbmFyaW9zLm1ldHJpY3MiLCJhaXN2Yy02NjIzMThmOS1pZXMtYWljb3JlLXNlcnZpY2UhYjU0MC5kZXBsb3ltZW50cy5sb2dzIl19.p7zy3gnUh8rapXdBg2f2lpk_PAFpHzkkh0UL13Qz7JuPHczThhXKZCjWYZuPPv-BTBxie1e6_uKr26lVZz-wmKYZebTZfBrHAyWocHkITN6rCT7T0Q2iOGF1T9MNtCkrrNiJU3eCvGOhvvqItAMbGwWgw2ptUoImrsEkV1QJ1LBeaG-dkHK_THqUZNWMHBIBn7tgufZ2DgOG3w3oYoYnzL1KLR34Z09BjtALIAoJYA5vcYQ2167anVTEpOOk_Iq6_NXBIBVIoqXHnZC9r4-Y7zZGY9xQbgyYSMjsUwExURk32QIe7ANHQxlvdFlyT4jXAhJ9j663VKDx-M3MOQIlMA'
            }
        })

}
export const openaiGP4o=createOpenAI({
    baseURL: "https://api.ai.prod.eu-central-1.aws.ml.hana.ondemand.com/v2/inference/deployments/d74b3f70ae904c59",
    fetch: customFetch
}).chat('gpt-40')